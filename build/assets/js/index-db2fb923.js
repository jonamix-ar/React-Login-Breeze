import{A as P,r as i,j as e,N as h,C as b,a as A,u as L,b as x,O as j,c as R,R as N,d as O,e as k,f as w}from"./main-e1ade5b4.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(r){if(r.ep)return;r.ep=!0;const t=a(r);fetch(r.href,t)}})();const f=P.create({baseURL:"http://localhost:8000/api",withCredentials:!0,headers:{"Access-Control-Allow-Origin":"http://localhost:3001","Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},logging:"error"});f.interceptors.request.use(s=>s);f.interceptors.response.use(s=>s,s=>Promise.reject(s));const _=i.createContext({user:null,setUser:()=>{},csrfToken:()=>{}}),v=({children:s})=>{const o="http://localhost:8000",[a,l]=i.useState(JSON.parse(localStorage.getItem("user"))||null),r=n=>{n?localStorage.setItem("user",JSON.stringify(n)):localStorage.removeItem("user"),l(n)},t=async()=>(await f.get(o+"/sanctum/csrf-cookie"),!0);return e.jsx(_.Provider,{value:{user:a,setUser:r,csrfToken:t},children:s})},p=()=>i.useContext(_),I="modulepreload",S=function(s){return"https://nextweb.com.ar/"+s},g={},u=function(o,a,l){if(!a||a.length===0)return o();const r=document.getElementsByTagName("link");return Promise.all(a.map(t=>{if(t=S(t),t in g)return;g[t]=!0;const n=t.endsWith(".css"),E=n?'[rel="stylesheet"]':"";if(!!l)for(let d=r.length-1;d>=0;d--){const m=r[d];if(m.href===t&&(!n||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${E}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":I,n||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),n)return new Promise((d,m)=>{c.addEventListener("load",d),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>o()).catch(t=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=t,window.dispatchEvent(n),!n.defaultPrevented)throw t})},C=()=>{const{user:s,setUser:o}=p(),a=[{id:0,title:"Inicio",link:"/"},{id:1,title:"Mis Tramites",link:"/mis-causas"},{id:2,title:"Mi Perfil",link:"/perfil"},{id:3,title:"Ayuda",link:"/ayuda"},{id:4,title:"Contáctanos",link:"/contactanos"},{id:5,title:"Conócenos",link:""}];s.first_name.charAt(0).toUpperCase()+s.first_name.slice(1);const l={id:6,title:"Logout",link:"/logout"};return a.push(l),e.jsx(e.Fragment,{children:a.map(r=>e.jsx("div",{children:e.jsx("a",{href:r.link,children:r.title})},r.id))})},T=()=>(p(),e.jsx(h,{className:"bg-white shadow-sm",variant:"light",bg:"dark",expand:"lg",children:e.jsxs(b,{children:[e.jsx(h.Brand,{href:"#home",children:e.jsx("img",{alt:"",src:"https://clientes.legalistas.ar/assets/images/logos/logo-legalistas-verde.svg",width:"100%",height:"40px",className:"d-inline-block align-top"})}),e.jsx(h.Toggle,{"aria-controls":"basic-navbar-nav"}),e.jsx(h.Collapse,{id:"basic-navbar-nav",children:e.jsx(A,{className:"ms-auto",children:e.jsx(C,{})})})]})})),y=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:e.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})});function U(){const{user:s,setUser:o}=p(),[a,l]=i.useState(!0);return L(),i.useEffect(()=>{(async()=>{try{const t=await f.get("/user");t.status===200&&(o(t.data.data),l(!1))}catch(t){l(!1),t.response?.status===401&&o(null)}})()},[o]),a?e.jsx(y,{}):s?e.jsxs(e.Fragment,{children:[e.jsx(T,{}),e.jsx("main",{className:"container flex justify-center flex-col items-center mt-10 m-auto",children:e.jsx(j,{})})]}):e.jsx(x,{to:"/",replace:!0})}function z(){const{user:s}=p();return s?e.jsx(x,{to:"/profile"}):e.jsx(e.Fragment,{children:e.jsx(j,{})})}const B=i.lazy(()=>u(()=>import("./Login-f3ff0fe9.js"),["assets/js/Login-f3ff0fe9.js","assets/js/main-e1ade5b4.js"])),D=i.lazy(()=>u(()=>import("./About-4cd2c061.js"),["assets/js/About-4cd2c061.js","assets/js/main-e1ade5b4.js"])),V=i.lazy(()=>u(()=>import("./Procedures-2acfc1b5.js"),["assets/js/Procedures-2acfc1b5.js","assets/js/main-e1ade5b4.js"])),F=i.lazy(()=>u(()=>import("./Profile-f659ae85.js"),["assets/js/Profile-f659ae85.js","assets/js/main-e1ade5b4.js"])),M=i.lazy(()=>u(()=>import("./Register-2677511b.js"),["assets/js/Register-2677511b.js","assets/js/main-e1ade5b4.js"])),$=i.lazy(()=>u(()=>import("./Logout-7f1ff1c8.js"),["assets/js/Logout-7f1ff1c8.js","assets/js/main-e1ade5b4.js"])),q=i.lazy(()=>u(()=>import("./NotFound-ac2c2a32.js"),["assets/js/NotFound-ac2c2a32.js","assets/js/main-e1ade5b4.js"])),G=R([{path:"/",element:e.jsx(z,{}),children:[{path:"/",element:e.jsx(B,{})},{path:"/register",element:e.jsx(M,{})}]},{path:"/",element:e.jsx(U,{}),children:[{path:"/mis-tramites",element:e.jsx(V,{})},{path:"/about",element:e.jsx(D,{})},{path:"/profile",element:e.jsx(F,{})},{path:"/logout",element:e.jsx($,{})}]},{path:"*",element:e.jsx(q,{})}]),J=()=>(document.title="Legalistas",e.jsx(v,{children:e.jsx(i.Suspense,{fallback:e.jsx(y,{}),children:e.jsx(N,{router:G})})}));O.initialize([{trackingId:""}]);const K=k.createRoot(document.getElementById("root"));K.render(e.jsx(w.StrictMode,{children:e.jsx(v,{children:e.jsx(J,{})})}));export{f as a,p as u};
//# sourceMappingURL=index-db2fb923.js.map
